import e from"fs";import c from"path";function S(i){return!!c.extname(i)}function f(i){try{e.accessSync(i)}catch{e.mkdirSync(i,{recursive:!0})}}function a(i,n){if(S(n)){let r=c.dirname(n);f(r),e.copyFileSync(i,n)}else f(n),e.copyFileSync(i,c.join(n,c.basename(i)))}function t(i,n,r=!1){if(r){let o=c.join(n,c.basename(i));return f(o),t(i,o)}if(f(n),e.lstatSync(i).isDirectory()){let o=e.readdirSync(i);for(let l of o){let s=c.join(i,l);e.lstatSync(s).isDirectory()?t(s,c.join(n,l)):a(s,n)}}}function y({source:i,target:n,copyWithFolder:r}){if(Array.isArray(n))for(let o of n)y({source:i,target:o,copyWithFolder:r});else if(Array.isArray(i))for(let o of i)y({source:o,target:n,copyWithFolder:r});else e.existsSync(i)&&(e.lstatSync(i).isFile()?a(i,n):e.lstatSync(i).isDirectory()&&t(i,n,r))}function p(i){e.existsSync(i)&&e.rmSync(i,{recursive:!0})}function x({source:i,target:n,copyWithFolder:r=!1,overwrite:o=!1}){console.log("Copying files..."),o&&(console.log("Overwriting target folder..."),Array.isArray(n)?n.forEach(p):p(n)),y({source:i,target:n,copyWithFolder:r}),console.log("Files copied.")}var m=x;var F=({source:i,target:n,copyWithFolder:r})=>({name:"copy",setup(o){o.onEnd(()=>m({source:i,target:n,copyWithFolder:r}))}});export{F as default};
//# sourceMappingURL=index.js.map
