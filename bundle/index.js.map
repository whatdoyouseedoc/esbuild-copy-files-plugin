{
  "version": 3,
  "sources": ["../src/copy.js", "../src/index.js"],
  "sourcesContent": ["import fs from 'fs';\nimport path from 'path';\n\n/**\n * Check if the path is a file.\n * @param {string} str - The path to check.\n * @returns {boolean} - Returns true if the path is a file.\n */\nexport function isPathToFile(str) {\n    return !!path.extname(str);\n}\n\n/**\n * Ensure that the directory exists.\n * @param {string} dir - The directory to check.\n */\nexport function ensureDirectoryExists(dir) {\n    try {\n        fs.accessSync(dir);\n    } catch {\n        fs.mkdirSync(dir, { recursive: true });\n    }\n}\n/**\n * Copy a file synchronously.\n * @param {string} source - The source file path.\n * @param {string} target - The target file path.\n */\nexport function copyFileSync(source, target) {\n    if (isPathToFile(target)) {\n        const targetDir = path.dirname(target);\n\n        ensureDirectoryExists(targetDir);\n        fs.copyFileSync(source, target);\n    } else {\n        ensureDirectoryExists(target);\n        fs.copyFileSync(source, path.join(target, path.basename(source)));\n    }\n}\n\n/**\n * Copy a folder recursively synchronously.\n * @param {string} source - The source folder path.\n * @param {string} target - The target folder path.\n * @param {boolean} [copyWithFolder] - Copy the folder with the folder.\n */\nexport function copyFolderRecursiveSync(\n    source,\n    target,\n    copyWithFolder = false\n) {\n    if (copyWithFolder) {\n        const folder = path.join(target, path.basename(source));\n\n        ensureDirectoryExists(folder);\n\n        return copyFolderRecursiveSync(source, folder);\n    }\n\n    ensureDirectoryExists(target);\n\n    if (fs.lstatSync(source).isDirectory()) {\n        const files = fs.readdirSync(source);\n\n        for (const file of files) {\n            const curSource = path.join(source, file);\n\n            if (fs.lstatSync(curSource).isDirectory()) {\n                copyFolderRecursiveSync(curSource, path.join(target, file));\n            } else {\n                copyFileSync(curSource, target);\n            }\n        }\n    }\n}\n\n/**\n * Perform the copy operation.\n * @param {object} options - The options object.\n * @param {string | string[]} options.source - The source folder path.\n * @param {string | string[]} options.target - The target folder path.\n * @param {boolean} [options.copyWithFolder] - Copy the folder with the folder.\n */\nexport function performCopy({ source, target, copyWithFolder }) {\n    if (Array.isArray(target)) {\n        for (const targetItem of target) {\n            performCopy({ source, target: targetItem, copyWithFolder });\n        }\n    } else if (Array.isArray(source)) {\n        for (const sourceItem of source) {\n            performCopy({ source: sourceItem, target, copyWithFolder });\n        }\n    } else if (fs.existsSync(source)) {\n        if (fs.lstatSync(source).isFile()) {\n            copyFileSync(source, target);\n        } else if (fs.lstatSync(source).isDirectory()) {\n            copyFolderRecursiveSync(source, target, copyWithFolder);\n        }\n    }\n}\n/**\n * Clean the target folder.\n * @param {string} target - The target folder path.\n * @returns\n */\nfunction cleanTarget(target) {\n    if (fs.existsSync(target)) {\n        fs.rmSync(target, { recursive: true });\n    }\n}\n\n/**\n * Copy files synchronously.\n * @param {object} options - The options object.\n * @param {string | string[]} options.source - The source folder path.\n * @param {string | string[]} options.target - The target folder path.\n * @param {boolean} [options.copyWithFolder] - Copy the folder with the folder.\n * @param {boolean} [options.overwrite] - Overwrite the target folder.\n */\nexport function copy({\n    source,\n    target,\n    copyWithFolder = false,\n    overwrite = false,\n}) {\n    console.log('Copying files...');\n\n    if (overwrite) {\n        console.log('Overwriting target folder...');\n        Array.isArray(target)\n            ? target.forEach(cleanTarget)\n            : cleanTarget(target);\n    }\n\n    performCopy({ source, target, copyWithFolder });\n\n    console.log('Files copied.');\n}\n\nexport default copy;\n", "import copy from './copy.js';\n\nexport default ({ source, target, copyWithFolder }) => {\n    return {\n        name: 'copy',\n        setup(build) {\n            build.onEnd(() => copy({ source, target, copyWithFolder }));\n        },\n    };\n};\n"],
  "mappings": "AAAA,OAAOA,MAAQ,KACf,OAAOC,MAAU,OAOV,SAASC,EAAaC,EAAK,CAC9B,MAAO,CAAC,CAACF,EAAK,QAAQE,CAAG,CAC7B,CAMO,SAASC,EAAsBC,EAAK,CACvC,GAAI,CACAL,EAAG,WAAWK,CAAG,CACrB,MAAQ,CACJL,EAAG,UAAUK,EAAK,CAAE,UAAW,EAAK,CAAC,CACzC,CACJ,CAMO,SAASC,EAAaC,EAAQC,EAAQ,CACzC,GAAIN,EAAaM,CAAM,EAAG,CACtB,IAAMC,EAAYR,EAAK,QAAQO,CAAM,EAErCJ,EAAsBK,CAAS,EAC/BT,EAAG,aAAaO,EAAQC,CAAM,CAClC,MACIJ,EAAsBI,CAAM,EAC5BR,EAAG,aAAaO,EAAQN,EAAK,KAAKO,EAAQP,EAAK,SAASM,CAAM,CAAC,CAAC,CAExE,CAQO,SAASG,EACZH,EACAC,EACAG,EAAiB,GACnB,CACE,GAAIA,EAAgB,CAChB,IAAMC,EAASX,EAAK,KAAKO,EAAQP,EAAK,SAASM,CAAM,CAAC,EAEtD,OAAAH,EAAsBQ,CAAM,EAErBF,EAAwBH,EAAQK,CAAM,CACjD,CAIA,GAFAR,EAAsBI,CAAM,EAExBR,EAAG,UAAUO,CAAM,EAAE,YAAY,EAAG,CACpC,IAAMM,EAAQb,EAAG,YAAYO,CAAM,EAEnC,QAAWO,KAAQD,EAAO,CACtB,IAAME,EAAYd,EAAK,KAAKM,EAAQO,CAAI,EAEpCd,EAAG,UAAUe,CAAS,EAAE,YAAY,EACpCL,EAAwBK,EAAWd,EAAK,KAAKO,EAAQM,CAAI,CAAC,EAE1DR,EAAaS,EAAWP,CAAM,CAEtC,CACJ,CACJ,CASO,SAASQ,EAAY,CAAE,OAAAT,EAAQ,OAAAC,EAAQ,eAAAG,CAAe,EAAG,CAC5D,GAAI,MAAM,QAAQH,CAAM,EACpB,QAAWS,KAAcT,EACrBQ,EAAY,CAAE,OAAAT,EAAQ,OAAQU,EAAY,eAAAN,CAAe,CAAC,UAEvD,MAAM,QAAQJ,CAAM,EAC3B,QAAWW,KAAcX,EACrBS,EAAY,CAAE,OAAQE,EAAY,OAAAV,EAAQ,eAAAG,CAAe,CAAC,OAEvDX,EAAG,WAAWO,CAAM,IACvBP,EAAG,UAAUO,CAAM,EAAE,OAAO,EAC5BD,EAAaC,EAAQC,CAAM,EACpBR,EAAG,UAAUO,CAAM,EAAE,YAAY,GACxCG,EAAwBH,EAAQC,EAAQG,CAAc,EAGlE,CAMA,SAASQ,EAAYX,EAAQ,CACrBR,EAAG,WAAWQ,CAAM,GACpBR,EAAG,OAAOQ,EAAQ,CAAE,UAAW,EAAK,CAAC,CAE7C,CAUO,SAASY,EAAK,CACjB,OAAAb,EACA,OAAAC,EACA,eAAAG,EAAiB,GACjB,UAAAU,EAAY,EAChB,EAAG,CACC,QAAQ,IAAI,kBAAkB,EAE1BA,IACA,QAAQ,IAAI,8BAA8B,EAC1C,MAAM,QAAQb,CAAM,EACdA,EAAO,QAAQW,CAAW,EAC1BA,EAAYX,CAAM,GAG5BQ,EAAY,CAAE,OAAAT,EAAQ,OAAAC,EAAQ,eAAAG,CAAe,CAAC,EAE9C,QAAQ,IAAI,eAAe,CAC/B,CAEA,IAAOW,EAAQF,ECzIf,IAAOG,EAAQ,CAAC,CAAE,OAAAC,EAAQ,OAAAC,EAAQ,eAAAC,CAAe,KACtC,CACH,KAAM,OACN,MAAMC,EAAO,CACTA,EAAM,MAAM,IAAMC,EAAK,CAAE,OAAAJ,EAAQ,OAAAC,EAAQ,eAAAC,CAAe,CAAC,CAAC,CAC9D,CACJ",
  "names": ["fs", "path", "isPathToFile", "str", "ensureDirectoryExists", "dir", "copyFileSync", "source", "target", "targetDir", "copyFolderRecursiveSync", "copyWithFolder", "folder", "files", "file", "curSource", "performCopy", "targetItem", "sourceItem", "cleanTarget", "copy", "overwrite", "copy_default", "src_default", "source", "target", "copyWithFolder", "build", "copy_default"]
}
